#!/bin/sh

basepath=`dirname "$0"`
basepath=`cd "$basepath" && cd .. && pwd`
if [ ! -d "$basepath" ]; then
    echo "Could not get base path"
    exit 1
fi

if [ ! -x "$basepath/node_modules/.bin/jshint" ]; then
    echo "jsHint is not installed"
    exit 1
fi

find "$basepath" -name "*.js" \
    -not \( -path "$basepath/node_modules/*" -o -path "$basepath/spec/*" -o -path "$basepath/docs/*" -o -path "$basepath/.*" \) | \
    xargs "$basepath/node_modules/.bin/jshint"
